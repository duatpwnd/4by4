import{d as P,i as p,b as y,a as x,r as i,e as S,f as u,g as n,j as r,k as m,p as A,l as N,h as _,m as d,_ as R}from"./index-f72d2f32.js";import{s as $}from"./services-8fb46e46.js";const w=o=>(A("data-v-2d2b060d"),o=o(),N(),o),j={class:"change-password-wrapper"},E=w(()=>_("label",{class:"title"},"Password",-1)),U={key:0,class:"guide-message"},q=w(()=>_("label",{class:"title"},"Password Confirm",-1)),z={key:1,class:"guide-message"},F=P({__name:"PasswordSetting",emits:["update:route"],setup(o,{emit:Z}){const f=p("authInstance"),h=p("emitter"),g=y(),v=x(),C=g.params.code,V=/^(?=.*[a-zA-Z])(?=.*[0-9]).{8,16}$/,t=i(""),a=i(""),e=S({password:!1,passwordConfirm:!1}),b=s=>{const c=V.test(s);t.value=s,c?e.password=!1:e.password=!0},k=s=>{a.value=s,t.value!==a.value?e.passwordConfirm=!0:e.passwordConfirm=!1},B=()=>{t.value.trim().length==0&&(e.password=!0),a.value.trim().length==0&&(e.passwordConfirm=!0),!e.password&&!e.passwordConfirm&&f.patch($.requestPasswordChange+`?code=${C}&password=${t.value}`).then(s=>{console.log(s),h.emit("update:alert",{isActive:!0,message:"비밀번호 변경이 완료되었습니다.",closeFn:()=>{v.push("/sign-in")}})})};return(s,c)=>{const l=u("BaseInput"),I=u("BaseButton");return d(),n("div",j,[E,r(l,{"onUpdate:modelValue":b,modelValue:t.value,type:"password",placeholder:""},null,8,["modelValue"]),e.password?(d(),n("p",U," Please enter between 8 and 16 characters using a mixture of English and numbers. ")):m("",!0),q,r(l,{"onUpdate:modelValue":k,modelValue:a.value,type:"password",placeholder:""},null,8,["modelValue"]),e.passwordConfirm?(d(),n("p",z," Passwords do not match. ")):m("",!0),r(I,{type:"button",text:"Change password",onClick:B})])}}});const H=R(F,[["__scopeId","data-v-2d2b060d"]]);export{H as default};
