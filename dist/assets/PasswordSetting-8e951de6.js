import{d as b,i as p,b as y,a as x,r as i,e as S,f as u,g as r,j as n,k as m,p as A,l as N,h as _,m as d,_ as R}from"./index-19e67411.js";import{s as $}from"./services-73bde18f.js";const w=t=>(A("data-v-984e5a9c"),t=t(),N(),t),j={class:"change-password-wrapper"},E=w(()=>_("label",{class:"title"},"Password",-1)),U={key:0,class:"guide-message"},q=w(()=>_("label",{class:"title"},"Password Confirm",-1)),z={key:1,class:"guide-message"},Z=b({__name:"PasswordSetting",emits:["update:route"],setup(t,{emit:D}){const f=p("defaultInstance"),h=p("emitter"),g=y(),v=x(),C=g.params.code,V=/^(?=.*[a-zA-Z])(?=.*[0-9]).{8,16}$/,a=i(""),o=i(""),e=S({password:!1,passwordConfirm:!1}),k=s=>{const c=V.test(s);a.value=s,c?e.password=!1:e.password=!0},B=s=>{o.value=s,a.value!==o.value?e.passwordConfirm=!0:e.passwordConfirm=!1},I=()=>{a.value.trim().length==0&&(e.password=!0),o.value.trim().length==0&&(e.passwordConfirm=!0),!e.password&&!e.passwordConfirm&&f.patch($.requestPasswordChange+`?code=${C}&password=${a.value}`).then(s=>{console.log(s),v.push("/sign-in"),h.emit("update:alert",{isActive:!0,message:"비밀번호 변경이 완료되었습니다."})})};return(s,c)=>{const l=u("BaseInput"),P=u("BaseButton");return d(),r("div",j,[E,n(l,{"onUpdate:modelValue":k,modelValue:a.value,type:"password",placeholder:""},null,8,["modelValue"]),e.password?(d(),r("p",U," Please enter between 8 and 16 characters using a mixture of English and numbers. ")):m("",!0),q,n(l,{"onUpdate:modelValue":B,modelValue:o.value,type:"password",placeholder:""},null,8,["modelValue"]),e.passwordConfirm?(d(),r("p",z," Passwords do not match. ")):m("",!0),n(P,{type:"button",text:"Change password",onClick:I})])}}});const H=R(Z,[["__scopeId","data-v-984e5a9c"]]);export{H as default};
